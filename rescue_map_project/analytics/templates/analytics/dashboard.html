{% extends 'core/base.html' %}

{% block title %}Dashboard - Rescue Map{% endblock %}

{% block content %}
<main class="dashboard">
    <div class="dashboard__container">
        <!-- Page Header -->
        <div class="dashboard__header">
            <div>
                <h1 class="dashboard__title">Dashboard Overview</h1>
                <p class="dashboard__subtitle">Real-time rescue operations monitoring</p>
            </div>
            <div class="dashboard__header-actions">
                <button class="dashboard__export-btn">üìä Export Report</button>
                <select class="dashboard__period-select">
                    <option>Last 24 Hours</option>
                    <option>Last 7 Days</option>
                    <option>Last 30 Days</option>
                    <option>Custom Range</option>
                </select>
            </div>
        </div>

        <!-- KPI Cards -->
        <div class="kpi-grid">
            <div class="kpi-card kpi-card--total">
                <div class="kpi-card__icon">üìã</div>
                <div class="kpi-card__content">
                    <span class="kpi-card__label">Total Requests</span>
                    <span class="kpi-card__value">1,248</span>
                    <span class="kpi-card__trend kpi-card__trend--up">‚Üë 12% vs yesterday</span>
                </div>
            </div>

            <div class="kpi-card kpi-card--open">
                <div class="kpi-card__icon">üÜò</div>
                <div class="kpi-card__content">
                    <span class="kpi-card__label">Active Requests</span>
                    <span class="kpi-card__value">142</span>
                    <span class="kpi-card__trend kpi-card__trend--down">‚Üì 8% vs yesterday</span>
                </div>
            </div>

            <div class="kpi-card kpi-card--processing">
                <div class="kpi-card__icon">‚öôÔ∏è</div>
                <div class="kpi-card__content">
                    <span class="kpi-card__label">In Progress</span>
                    <span class="kpi-card__value">68</span>
                    <span class="kpi-card__trend kpi-card__trend--neutral">‚Üí Same as yesterday</span>
                </div>
            </div>

            <div class="kpi-card kpi-card--resolved">
                <div class="kpi-card__icon">‚úÖ</div>
                <div class="kpi-card__content">
                    <span class="kpi-card__label">Resolved Today</span>
                    <span class="kpi-card__value">234</span>
                    <span class="kpi-card__trend kpi-card__trend--up">‚Üë 15% vs yesterday</span>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="dashboard__grid">
            <!-- Timeline Chart -->
            <div class="chart-card chart-card--large">
                <div class="chart-card__header">
                    <h3 class="chart-card__title">Requests Timeline</h3>
                    <div class="chart-card__controls">
                        <button class="chart-card__btn chart-card__btn--active">Hour</button>
                        <button class="chart-card__btn">Day</button>
                        <button class="chart-card__btn">Week</button>
                    </div>
                </div>
                <div class="chart-card__body">
                    <div class="chart-placeholder">
                        [Line Chart: Requests over time - Use Chart.js/D3.js]
                    </div>
                </div>
            </div>

            <!-- Status Distribution -->
            <div class="chart-card">
                <div class="chart-card__header">
                    <h3 class="chart-card__title">Status Distribution</h3>
                </div>
                <div class="chart-card__body">
                    <div class="chart-placeholder">
                        [Donut Chart: Status breakdown - Use Chart.js]
                    </div>
                </div>
            </div>

            <!-- Priority Heatmap -->
            <div class="chart-card">
                <div class="chart-card__header">
                    <h3 class="chart-card__title">Priority Levels</h3>
                </div>
                <div class="chart-card__body">
                    <div class="chart-placeholder">
                        [Bar Chart: Priority distribution - Use Chart.js]
                    </div>
                </div>
            </div>

            <!-- Geographic Hotspots -->
            <div class="chart-card">
                <div class="chart-card__header">
                    <h3 class="chart-card__title">Geographic Hotspots</h3>
                </div>
                <div class="chart-card__body">
                    <div class="chart-placeholder">
                        [Heatmap: Requests by district - Use ArcGIS API]
                    </div>
                </div>
            </div>

            <!-- Response Time Stats -->
            <div class="chart-card">
                <div class="chart-card__header">
                    <h3 class="chart-card__title">Avg Response Time</h3>
                </div>
                <div class="chart-card__body">
                    <div class="chart-placeholder">
                        [Gauge Chart: Average response time - Use Chart.js]
                    </div>
                </div>
            </div>

            <!-- Resource Allocation -->
            <div class="chart-card chart-card--large">
                <div class="chart-card__header">
                    <h3 class="chart-card__title">Resource Allocation</h3>
                </div>
                <div class="chart-card__body">
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Resource Type</th>
                                    <th>Available</th>
                                    <th>Deployed</th>
                                    <th>Utilization</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>üöë Ambulance</td>
                                    <td>12</td>
                                    <td>8</td>
                                    <td><span class="progress-bar" style="--progress: 67%"></span> 67%</td>
                                </tr>
                                <tr>
                                    <td>üö§ Rescue Boats</td>
                                    <td>25</td>
                                    <td>18</td>
                                    <td><span class="progress-bar" style="--progress: 72%"></span> 72%</td>
                                </tr>
                                <tr>
                                    <td>üöÅ Helicopters</td>
                                    <td>5</td>
                                    <td>2</td>
                                    <td><span class="progress-bar" style="--progress: 40%"></span> 40%</td>
                                </tr>
                                <tr>
                                    <td>üë• Rescue Teams</td>
                                    <td>45</td>
                                    <td>32</td>
                                    <td><span class="progress-bar" style="--progress: 71%"></span> 71%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock %}